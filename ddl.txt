CREATE TABLE scott.actor (
    id            VARCHAR2(100 BYTE) NOT NULL,
    name          VARCHAR2(100 BYTE) NOT NULL,
    profile_image VARCHAR2(1000 BYTE) NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.actor_pk ON
    scott.actor (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.actor
    ADD CONSTRAINT actor_pk PRIMARY KEY ( id )
        USING INDEX scott.actor_pk;

CREATE TABLE scott.casting (
    id         NUMBER NOT NULL,
    actor_id   VARCHAR2(100 BYTE) NOT NULL,
    role       VARCHAR2(100 BYTE) NOT NULL,
    musical_id VARCHAR2(100 BYTE) NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.casting_pk ON
    scott.casting (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.casting
    ADD CONSTRAINT casting_pk PRIMARY KEY ( id )
        USING INDEX scott.casting_pk;

CREATE TABLE scott.image (
    id      NUMBER NOT NULL,
    post_id NUMBER NOT NULL,
    path    VARCHAR2(1000 BYTE) NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_image ON
    scott.image (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.image
    ADD CONSTRAINT pk_image PRIMARY KEY ( id )
        USING INDEX scott.pk_image;

CREATE TABLE scott.musical (
    id             VARCHAR2(100 BYTE) NOT NULL,
    stdate         DATE NOT NULL,
    eddate         DATE NOT NULL,
    theater        VARCHAR2(100 BYTE) NOT NULL,
    view_age       VARCHAR2(100 BYTE),
    running_time   NUMBER,
    main_character VARCHAR2(100 BYTE),
    poster_image   VARCHAR2(1000 BYTE) NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.musical_pk ON
    scott.musical (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.musical
    ADD CONSTRAINT musical_pk PRIMARY KEY ( id )
        USING INDEX scott.musical_pk;

CREATE TABLE scott.post (
    id           NUMBER NOT NULL,
    user_id      VARCHAR2(30 BYTE) NOT NULL,
    type         VARCHAR2(20 BYTE) NOT NULL,
    title        VARCHAR2(30 BYTE) NOT NULL,
    content      VARCHAR2(4000 BYTE) NOT NULL,
    created_time DATE NOT NULL,
    viewed       NUMBER(20) DEFAULT 0 NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_post ON
    scott.post (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.post
    ADD CONSTRAINT pk_post PRIMARY KEY ( id )
        USING INDEX scott.pk_post;

CREATE TABLE scott.post_like (
    id      NUMBER NOT NULL,
    user_id VARCHAR2(20 BYTE) NOT NULL,
    post_id NUMBER NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.post_like_pk ON
    scott.post_like (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.post_like
    ADD CONSTRAINT post_like_pk PRIMARY KEY ( id )
        USING INDEX scott.post_like_pk;

CREATE TABLE scott.re_reply (
    id           NUMBER NOT NULL,
    post_id      NUMBER NOT NULL,
    user_id      VARCHAR2(30 BYTE) NOT NULL,
    reply_id     NUMBER NOT NULL,
    content      VARCHAR2(1000 BYTE) NOT NULL,
    created_time DATE NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_re_reply ON
    scott.re_reply (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.re_reply
    ADD CONSTRAINT pk_re_reply PRIMARY KEY ( id )
        USING INDEX scott.pk_re_reply;

CREATE TABLE scott.re_reply_like (
    id          NUMBER NOT NULL,
    user_id     VARCHAR2(30 BYTE) NOT NULL,
    re_reply_id NUMBER NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.re_reply_like_pk ON
    scott.re_reply_like (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.re_reply_like
    ADD CONSTRAINT re_reply_like_pk PRIMARY KEY ( id )
        USING INDEX scott.re_reply_like_pk;

CREATE TABLE scott.reply (
    id           NUMBER NOT NULL,
    post_id      NUMBER NOT NULL,
    user_id      VARCHAR2(30 BYTE) NOT NULL,
    content      VARCHAR2(2000 BYTE) NOT NULL,
    created_time DATE NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_reply ON
    scott.reply (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.reply
    ADD CONSTRAINT pk_reply PRIMARY KEY ( id )
        USING INDEX scott.pk_reply;

CREATE TABLE scott.reply_like (
    id       NUMBER NOT NULL,
    user_id  VARCHAR2(30 BYTE) NOT NULL,
    reply_id NUMBER NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.reply_like_pk ON
    scott.reply_like (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.reply_like
    ADD CONSTRAINT reply_like_pk PRIMARY KEY ( id )
        USING INDEX scott.reply_like_pk;

CREATE TABLE scott.review (
    id      NUMBER NOT NULL,
    post_id NUMBER NOT NULL,
    title   VARCHAR2(20 BYTE) NOT NULL,
    path    VARCHAR2(1000 BYTE) NOT NULL,
    stdate  DATE NOT NULL,
    eddate  DATE NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_review ON
    scott.review (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.review
    ADD CONSTRAINT pk_review PRIMARY KEY ( id )
        USING INDEX scott.pk_review;

CREATE TABLE scott.subscribe (
    id         NUMBER NOT NULL,
    musical_id VARCHAR2(100 BYTE) NOT NULL,
    user_id    VARCHAR2(30 BYTE) NOT NULL,
    type       VARCHAR2(20 BYTE) NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_subscribe ON
    scott.subscribe (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.subscribe
    ADD CONSTRAINT pk_subscribe PRIMARY KEY ( id )
        USING INDEX scott.pk_subscribe;

CREATE TABLE scott.user_tb (
    id               VARCHAR2(30 BYTE) NOT NULL,
    user_pw          VARCHAR2(200 BYTE) NOT NULL,
    user_nickname    VARCHAR2(100 BYTE) NOT NULL,
    user_profile_img VARCHAR2(1000 BYTE),
    essential_agree  CHAR(1 BYTE) DEFAULT 'N' NOT NULL,
    personal_agree   CHAR(1 BYTE) DEFAULT 'N' NOT NULL,
    age_agree        CHAR(1 BYTE) DEFAULT 'N' NOT NULL
)
PCTFREE 10 PCTUSED 40 TABLESPACE users LOGGING
    STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT );

CREATE UNIQUE INDEX scott.pk_user ON
    scott.user_tb (
        id
    ASC )
        TABLESPACE users PCTFREE 10
            STORAGE ( INITIAL 65536 NEXT 1048576 PCTINCREASE 0 MINEXTENTS 1 MAXEXTENTS 2147483645 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL
            DEFAULT )
        LOGGING;

ALTER TABLE scott.user_tb
    ADD CONSTRAINT pk_user PRIMARY KEY ( id )
        USING INDEX scott.pk_user;

ALTER TABLE scott.casting
    ADD CONSTRAINT casting_actor_fk FOREIGN KEY ( actor_id )
        REFERENCES scott.actor ( id )
    NOT DEFERRABLE;

ALTER TABLE scott.casting
    ADD CONSTRAINT casting_musical_fk FOREIGN KEY ( musical_id )
        REFERENCES scott.musical ( id )
    NOT DEFERRABLE;

ALTER TABLE scott.image
    ADD CONSTRAINT image_post_fk FOREIGN KEY ( post_id )
        REFERENCES scott.post ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.post_like
    ADD CONSTRAINT post_like_post_fk FOREIGN KEY ( post_id )
        REFERENCES scott.post ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.post_like
    ADD CONSTRAINT post_like_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.post
    ADD CONSTRAINT post_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.re_reply_like
    ADD CONSTRAINT re_reply_like_re_reply_fk FOREIGN KEY ( re_reply_id )
        REFERENCES scott.re_reply ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.re_reply_like
    ADD CONSTRAINT re_reply_like_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.re_reply
    ADD CONSTRAINT re_reply_post_fk FOREIGN KEY ( post_id )
        REFERENCES scott.post ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.re_reply
    ADD CONSTRAINT re_reply_reply_fk FOREIGN KEY ( reply_id )
        REFERENCES scott.reply ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.re_reply
    ADD CONSTRAINT re_reply_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.reply_like
    ADD CONSTRAINT reply_like_reply_fk FOREIGN KEY ( reply_id )
        REFERENCES scott.reply ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.reply_like
    ADD CONSTRAINT reply_like_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.reply
    ADD CONSTRAINT reply_post_fk FOREIGN KEY ( post_id )
        REFERENCES scott.post ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.reply
    ADD CONSTRAINT reply_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.review
    ADD CONSTRAINT review_post_fk FOREIGN KEY ( post_id )
        REFERENCES scott.post ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.subscribe
    ADD CONSTRAINT subscribe_musical_fk FOREIGN KEY ( musical_id )
        REFERENCES scott.musical ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;

ALTER TABLE scott.subscribe
    ADD CONSTRAINT subscribe_user_fk FOREIGN KEY ( user_id )
        REFERENCES scott.user_tb ( id )
            ON DELETE CASCADE
    NOT DEFERRABLE;
